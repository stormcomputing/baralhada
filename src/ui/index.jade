doctype html
html(lang='en')
  head
    title baralhada
    meta(name='viewport' content='width=device-width,initial-scale=1')
    script(src='//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.js',data-main='main')
  body
    .container-fluid(ng-if='!user')
      .row.text-center
        h2(ng-controller='LoginCtrl')
          a(href='#',ng-click='login()')
            i.fa.fa-google-plus
            |  login with google+
    .container-fluid(ng-show='table',ng-controller='TableCtrl')
      .row.text-center
        h2
          i.fa.fa-user
          |  hello {{user.displayName}}!
      .row.text-center
        h3
          i.fa.fa-group
          |  welcome to table {{table.id}}!
          small(ng-if='!table.players[player.id]') , view-only
        h4(ng-if='view_url')
          i.fa.fa-share-alt
          | &nbsp;share&nbsp;
          i.fa.fa-eye-slash
          | &nbsp;{{view_url}}&nbsp;
          i.fa.fa-eye(ng-if='share_url')
          | &nbsp;{{share_url}}
    .container-fluid(ng-controller='HandCtrl',ng-if='table')
      .row
        .col-xs-2
          button.btn.btn-primary.btn-block(ng-click='newHand(table.id, table.secret)') start new hand
      .row(ng-if='!hand.id')
        .col-xs-10.col-xs-offset-1
          .alert.alert-warning no hands started yet!
      .row(ng-if='hand.id')
        .col-xs-2
          button.truncate.btn.btn-default.btn-block.btn-xs(
            ng-disabled='!table.players[player.id]',
            ng-click='placeCard(hand.id, table.secret)')
            i.fa.fa-group
            | &nbsp; place community card
        .col-xs-2.truncate(ng-repeat='c in hand.community_cards') {{c.number}}{{c.suit}}
      .row(ng-repeat='p in hand.table_players')
        .col-xs-2
          button.truncate.btn.btn-default.btn-block.btn-xs(
            ng-disabled='!table.players[player.id]',
            ng-click='dealCard(hand.id, table.secret, p.id)')
            i.i.fa.fa-user
            | &nbsp;{{p.name}}
        .col-xs-2.truncate(ng-repeat='c in hand.pocket_cards[p.id]',
          ng-init='secret=(c.cipher && table.players[player.id]);c=decript(c, player.secret)')
          a(href='#',ng-if='secret',ng-click='revealCard(hand.id, table.secret, player.id, player.secret, $index)')
            | {{c.number}}{{c.suit}}
          span(ng-if='!secret') {{c.number}}{{c.suit}}
