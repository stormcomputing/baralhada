doctype html
html(lang='en')
  head
    title baralhada
    meta(name='viewport' content='width=device-width,initial-scale=1')
    script(src='//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.js',data-main='main')
  body(ng-cloack)
    nav.navbar.navbar-inverse(role='navigation',ng-controller='LoginCtrl')
      p.navbar-text.navbar-right
        a(href='#',ng-click='login()',ng-hide='user') Login
        span(ng-show='user') Welcome {{user.displayName}}
    .container-fluid(ng-controller='TableCtrl')
      .row: .col-xs-12(ng-show='table.id')
          h3 Welcome to table {{table.id}}!
            small(ng-hide='table.players[player.id]') , view-only
      .row
        .col-xs-6(ng-show='view_url'): i.fa.fa-share-alt: {{view_url}}
        .col-xs-6(ng-show='share_url'): i.fa.fa-share-alt: {{share_url}}
    .container-fluid(ng-controller='HandCtrl',ng-show='table')
      .row
        .col-xs-10.col-xs-offset-1
          .alert.alert-warning(ng-hide='hand.id') No hands started yet!
      .row(ng-show='table.players[player.id]')
        .col-xs-9 Community cards
        .col-xs-3: .btn-group.btn-group-xs
          button.btn.btn-default(ng-disabled='!hand.id',ng-click='placeCard(hand.id, table.secret)')
            i.fa.fa-sign-in
          button.btn.btn-primary(ng-click='newHand(table.id, table.secret)')
            i.fa.fa-recycle
      .row
        .col-xs-2: i.fa.fa-users
        .col-xs-2(ng-repeat='c in hand.community_cards') {{c.number}}{{c.suit}}
      .row(ng-repeat='p in hand.table_players')
        .col-xs-9 {{p.name}}
        .col-xs-3: .btn-group.btn-group-xs
          button.btn.btn-default(
            ng-show='table.players[player.id]',
            ng-click='dealCard(hand.id, table.secret, p.id)')
              i.fa.fa-sign-in
          button.btn.btn-warning(ng-show='p.id == player.id',
            ng-click='revealCards(hand.id, table.secret, player.id, player.secret)')
              i.fa.fa-eye
        .col-xs-2: i.fa.fa-user
        .col-xs-2(ng-repeat='i in hand.pocket_cards[p.id]',ng-init='c=decript(i, player.secret)') {{c.number}}{{c.suit}}
